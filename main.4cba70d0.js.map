{"version":3,"sources":["scripts/main.js"],"names":["baseUrl","detailsUrl","getPhones","url","fetch","then","response","ok","Promise","reject","Error","status","statusText","resolve","json","list","map","phone","id","setTimeout","getPhonesDetails","ids","preparedList","phoneId","all","displayList","document","createElement","forEach","element","domElement","textContent","name","append","body"],"mappings":";AAAA,aAEA,IAAMA,EACJ,wEACIC,EACJ,oEAEIC,EAAY,SAACC,GAUV,OATPC,MAAMD,GACHE,KAAK,SAAAC,GACA,IAACA,EAASC,GACLC,OAAAA,QAAQC,OAAO,IAAIC,MACrBJ,GAAAA,OAAAA,EAASK,OAAYL,OAAAA,OAAAA,EAASM,gBAKlC,IAAIJ,QAAQ,SAASK,EAASJ,GACnCL,MAAMD,GACHE,KAAK,SAAAC,GAAYA,OAAAA,EAASQ,SAC1BT,KAAK,SAAAU,GAAQF,OAAAA,EAAQE,EAAKC,IAAI,SAAAC,GAASA,OAAAA,EAAMC,QAEhDC,WAAW,WACTV,EAAO,IAAIC,MAAM,YAChB,QAIDU,EAAmB,SAACC,GAClBC,IAAAA,EAAeD,EAAIL,IACvB,SAAAO,GAAWnB,OAAAA,MAASH,GAAAA,OAAAA,GAAasB,OAAAA,EAAtB,UACRlB,KAAK,SAAAC,GAAYA,OAAAA,EAASQ,WAIxBN,OAAAA,QAAQgB,IAAIF,IAGfG,EAAc,SAACH,GACbP,IAAAA,EAAOW,SAASC,cAAc,MAEpCL,EAAaM,QAAQ,SAAAC,GACbC,IAAAA,EAAaJ,SAASC,cAAc,MAE1CG,EAAWC,YAAcF,EAAQG,KACjCjB,EAAKkB,OAAOH,KAGdJ,SAASQ,KAAKD,OAAOlB,IAGvBb,EAAUF,GACPK,KAAKe,GACLf,KAAKoB","file":"main.4cba70d0.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst baseUrl\n= 'https://mate-academy.github.io/phone-catalogue-static/api/phones.json';\nconst detailsUrl\n= 'https://mate-academy.github.io/phone-catalogue-static/api/phones/';\n\nconst getPhones = (url) => {\n  fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        return Promise.reject(new Error(\n          `${response.status} - ${response.statusText}`\n        ));\n      }\n    });\n\n  return new Promise(function(resolve, reject) {\n    fetch(url)\n      .then(response => response.json())\n      .then(list => resolve(list.map(phone => phone.id)));\n\n    setTimeout(() => {\n      reject(new Error('Error!'));\n    }, 5000);\n  });\n};\n\nconst getPhonesDetails = (ids) => {\n  const preparedList = ids.map(\n    phoneId => fetch(`${detailsUrl}${phoneId}.json`)\n      .then(response => response.json()\n      )\n  );\n\n  return Promise.all(preparedList);\n};\n\nconst displayList = (preparedList) => {\n  const list = document.createElement('ul');\n\n  preparedList.forEach(element => {\n    const domElement = document.createElement('li');\n\n    domElement.textContent = element.name;\n    list.append(domElement);\n  });\n\n  document.body.append(list);\n};\n\ngetPhones(baseUrl)\n  .then(getPhonesDetails)\n  .then(displayList);\n"]}